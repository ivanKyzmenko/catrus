<template>
    <div class="catrus-service container">
        <div class="container-fit">
            <h1 class="catrus-service__title text-with-line">Our Service</h1>

            <div class="catrus-service__top">
                <div class="catrus-service__top-left">
                    <img src="../../assets/service.png" alt="">
                </div>
                <div class="catrus-service__top-right">
                    <div class="catrus-service__top-right__primary-text">
                        Our services are quick, discrete and professional and it takes only 5 minutes to place an order! After that, it is all handled for you! Once we have your project specifications, we do all the legwork associated with getting your project done by the best writer possible in the shorted amount of time.
                    </div>
                    <div class="catrus-service__top-right__secondary-text">
                        If you are the sort of client that wants to be involved in the process 100%, we provide all the tools required. You will have a messaging application to communicate with the writer, SMS and E-mail notifications to stay informed, a facility to upload and fax a ny required materials or sources and a 24/7 support team with a toll-free hotline and a chat application for any support required.
                    </div>

                </div>
            </div>

            <div class="catrus-service__bottom" id="animated-slide">
                <div class="catrus-service__bottom-list">
                    <div v-for="item in slides"
                        class="catrus-service__bottom-list__item"
                         v-bind:class="{ 'catrus-service__bottom-list__item-pulsare': item.animation}"
                        v-bind:key="item.id">
                        <div class="catrus-service__bottom-list__item-img">
                            <svg width="44px" height="58px" viewBox="0 0 44 58" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <!-- Generator: sketchtool 52.5 (67469) - http://www.bohemiancoding.com/sketch -->
                                <title>596FE61B-F80E-4BE8-B4A7-43E0C93A92AE</title>
                                <desc>Created with sketchtool.</desc>
                                <defs>
                                    <linearGradient x1="2.36847579e-13%" y1="50%" x2="100%" y2="50%" id="linearGradient-1">
                                        <stop stop-color="#FF5404" offset="0%"></stop>
                                        <stop stop-color="#FF5404" offset="1%"></stop>
                                        <stop stop-color="#FF8500" offset="100%"></stop>
                                    </linearGradient>
                                </defs>
                                <g id="Work" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="1.0-A4S-Home_Page" transform="translate(-1253.000000, -2949.000000)" fill="url(#linearGradient-1)" fill-rule="nonzero">
                                        <g id="Group-10" transform="translate(65.000000, 2830.000000)">
                                            <g id="Group-14" transform="translate(1110.000000, 119.000000)">
                                                <g id="a_1_-2" transform="translate(78.000000, 0.000000)">
                                                    <path d="M43.9993659,25.8645262 L43.9993659,54.4183723 C43.9993659,56.38948 42.391121,57.9876031 40.4075292,57.9876031 L4.48916185,57.9876031 C2.50557002,57.9876031 0.897325118,56.38948 0.897325118,54.4183723 L0.897325118,25.8645262 C0.897325118,23.8934185 2.50557002,22.2952954 4.48916185,22.2952954 L9.87691695,22.2952954 L9.87691695,13.3722185 C9.87691695,6.47289539 15.5053251,0.879910778 22.4483455,0.879910778 C29.3913659,0.879910778 35.0197741,6.47289539 35.0197741,13.3722185 L35.0197741,22.2952954 L40.4075292,22.2952954 C42.391121,22.2952954 43.9993659,23.8934185 43.9993659,25.8645262 Z M11.6728353,22.2952954 L15.2646721,22.2952954 L15.2646721,13.3722185 C15.2646721,9.43000309 18.4811619,6.23375693 22.4483455,6.23375693 C26.4155292,6.23375693 29.632019,9.43000309 29.632019,13.3722185 L29.632019,22.2952954 L33.2238557,22.2952954 L33.2238557,13.3722185 C33.2238557,7.45889539 28.399121,2.66452616 22.4483455,2.66452616 C16.49757,2.66452616 11.6728353,7.45889539 11.6728353,13.3722185 L11.6728353,22.2952954 Z M17.0605904,22.2952954 L27.8361006,22.2952954 L27.8361006,13.3722185 C27.8361006,10.4160031 25.4241823,8.01837232 22.4483455,8.01837232 C19.4725088,8.01837232 17.0605904,10.4160031 17.0605904,13.3722185 L17.0605904,22.2952954 Z M42.2034476,50.8491415 L2.69324348,50.8491415 L2.69324348,54.4183723 C2.69324348,55.3999108 3.50140675,56.2029877 4.48916185,56.2029877 L40.4075292,56.2029877 C41.3988761,56.2029877 42.2034476,55.40348 42.2034476,54.4183723 L42.2034476,50.8491415 Z M42.2034476,31.2183723 L2.69324348,31.2183723 L2.69324348,49.0645262 L42.2034476,49.0645262 L42.2034476,31.2183723 Z M42.2034476,25.8645262 C42.2034476,24.8794185 41.3988761,24.0799108 40.4075292,24.0799108 L4.48916185,24.0799108 C3.49781491,24.0799108 2.69324348,24.8794185 2.69324348,25.8645262 L2.69324348,29.4337569 L42.2034476,29.4337569 L42.2034476,25.8645262 Z M17.9585496,37.4645262 C17.9486721,34.9999723 19.951121,32.9949569 22.4303863,32.9851415 C24.9096516,32.9744339 26.9273659,34.9651723 26.9381414,37.4279415 C26.9435292,38.83868 26.2781414,40.1682185 25.1422231,41.0159108 L25.1422231,44.6029877 C25.1422231,46.0806492 23.9353659,47.2799108 22.4483455,47.2799108 C20.9604272,47.2799108 19.754468,46.0806492 19.754468,44.6029877 L19.754468,41.0159108 C18.676917,40.2039108 17.9585496,38.9189877 17.9585496,37.4645262 Z M19.754468,37.4645262 C19.754468,38.6245262 20.5087537,39.6060646 21.5503863,39.9808339 L21.5503863,44.6029877 C21.5503863,45.0964339 21.9526721,45.4952954 22.4483455,45.4952954 C22.944917,45.4952954 23.3463047,45.0964339 23.3463047,44.6029877 L23.3463047,39.9808339 C24.7498149,39.5052339 25.4996108,37.9892031 25.0209986,36.5945262 C24.6474476,35.5023415 23.6094068,34.7733262 22.4483455,34.7876031 C20.9604272,34.7876031 19.754468,35.9868646 19.754468,37.4645262 Z" id="a_1_"></path>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </div>
                        <div class="catrus-service__bottom-list__item-text">
                            {{item.title}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    export default {
        data: () => ({
            action: false,
            el: null,
            slides: [
                {
                    id: 1,
                    animation: false,
                    icon: './assets/icons/a-1-2.svg',
                    title: '100% Authetic, Never Resold'
                },
                {
                    id: 2,
                    animation: false,
                    icon: '',
                    title: 'Delivered On Time'
                },
                {
                    id: 3,
                    animation: false,
                    icon: '',
                    title: '100% Done To Order'
                },
                {
                    id: 4,
                    animation: false,
                    icon: '',
                    title: 'Free Unlimited Revisions'
                },
                {
                    id: 5,
                    animation: false,
                    icon: '',
                    title: 'Totally Confidential And Secure'
                }
            ]
        }),
        methods: {
            initEl() {
                let coords = document.getElementById('animated-slide').getBoundingClientRect()
                this.el = coords.top + window.pageYOffset - coords.height * 2

            },
            scroll() {
                if (window.pageYOffset - 400 > this.el) {
                    this.animation()
                }
            },
            animation() {
                let vm = this
                let interval = 0
                let order = [
                    [2],
                    [1,3],
                    [0,4]
                ]

                function viewAnimation(i) {
                    for (let j = 0; j < order[i].length; j++) {
                        let a = order[i][j]
                        vm.slides[a].animation = true
                    }
                }

                for (let i = 0; i < order.length; i++) {
                    (function(i) {
                        setTimeout(function(){
                            viewAnimation(i)
                        }, interval);
                        interval = interval + 300
                    })(i);
                }
            }
        },
        mounted() {
            this.initEl()
            document.addEventListener('scroll', this.scroll)
        }
    }
</script>
